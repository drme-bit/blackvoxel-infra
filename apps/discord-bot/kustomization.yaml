apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
resources:
  - deployment.yaml

namespace: blackvoxel

commonLabels:
  app: discord-bot

images:
  - name: ghcr.io/drme-bit/discord-bot
    newTag: latest

generatorOptions:
  disableNameSuffixHash: true

# Note:
# - The bot does not need a Service (it doesn't expose network ports).
# - Secrets (discord token) must be created separately in the `blackvoxel` namespace.
#   e.g. `kubectl -n blackvoxel create secret generic discord-secrets --from-literal=token=$DISCORD_TOKEN`
# - For GitOps, prefer SealedSecrets or ExternalSecrets instead of committing plaintext secrets.
